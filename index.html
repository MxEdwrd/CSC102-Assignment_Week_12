<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UAT Space Program (Mock)</title>
    <script src="class.js"></script>
    <script src="dataLoader.js"></script>
    <script>
      //Creating necessary variables for Data Readout.
      var theTime = new Date();
      var tempTime = new Date();
      var time_interval = 5000;
      var last_iteration = 0;
      var running = true;
      var index = 0;
      var timer;
      //Puts data into array.
      var data = getData();
      //Function to load & display data.
      function updateDisplay() {
        theTime = new Date();
        var timeRead = data[index].time_seconds;
        if (timeRead >= 5) {
          document.getElementById("data").rows["seconds"].innerHTML = dataRow(
            "Time Elapsed",
            data[index].time_seconds,
            "seconds"
          );
          document.getElementById("data").rows["latitude"].innerHTML = dataRow(
            "Latitude",
            data[index].latitude,
            " "
          );
          document.getElementById("data").rows["longitude"].innerHTML = dataRow(
            "Longitude",
            data[index].longitude,
            " "
          );
          document.getElementById("data").rows["gpsSensorAlt"].innerHTML =
            dataRow("GPS Sensor Altitude", data[index].gps_altitude, " ");
          document.getElementById("data").rows["bmpSensorAlt"].innerHTML =
            dataRow("BMP Sensor Altitude", data[index].bmpSensor_altitude, " ");
          document.getElementById("data").rows["bmpSensorPres"].innerHTML =
            dataRow("BMP Sensor Pressure", data[index].bmpSensor_pressure, " ");
          document.getElementById("data").rows["bmpSensorTemp"].innerHTML =
            dataRow("BMP Sensor Temperature", data[index].bmpSensor_temp, " ");
          document.getElementById("data").rows["digiSensorTemp"].innerHTML =
            dataRow("Digital Sensor Pressure", data[index].digSensor_temp, " ");
          document.getElementById("data").rows["cssSensorTemp"].innerHTML =
            dataRow("CSS Sensor Temperature", data[index].cssSensor_temp, " ");
          document.getElementById("data").rows["cssSensorECO2"].innerHTML =
            dataRow("CSS Sensor ECO2", data[index].cssSensor_eCO2, " ");
          document.getElementById("data").rows["cssSensorTVOC"].innerHTML =
            dataRow("CSS Sensor TVOC", data[index].cssSensor_TVOC, " ");
          document.getElementById("data").rows["UV"].innerHTML = dataRow(
            "UV",
            data[index].UV,
            " "
          );
          document.getElementById("data").rows["accelX"].innerHTML = dataRow(
            "Acceleration X",
            data[index].accelX,
            " "
          );
          document.getElementById("data").rows["accelY"].innerHTML = dataRow(
            "Acceleration Y",
            data[index].accelY,
            " "
          );
          document.getElementById("data").rows["accelZ"].innerHTML = dataRow(
            "Acceleration Z",
            data[index].accelZ,
            " "
          );
          document.getElementById("data").rows["magneticX"].innerHTML = dataRow(
            "Magnetic X",
            data[index].magnetX,
            " "
          );
          document.getElementById("data").rows["magneticY"].innerHTML = dataRow(
            "Magnetic Y",
            data[index].magnetY,
            " "
          );
          document.getElementById("data").rows["magneticZ"].innerHTML = dataRow(
            "Magnetic Z",
            data[index].magnetZ,
            " "
          );
          document.getElementById("data").rows["gyroX"].innerHTML = dataRow(
            "Gyro X",
            data[index].gyroX,
            " "
          );
          document.getElementById("data").rows["gyroY"].innerHTML = dataRow(
            "Gyro Y",
            data[index].gyroY,
            " "
          );
          document.getElementById("data").rows["gyroZ"].innerHTML = dataRow(
            "Gyro Z",
            data[index].gyroZ,
            " "
          );
          if (index < 500) {
            index++;
          } else {
            index = 0;
          }
        }
        console.log(
          "The Current Time Is: " +
            theTime.getHours() +
            ":" +
            theTime.getMinutes() +
            ":" +
            theTime.getSeconds()
        );
      }
    </script>
  </head>
  <body
    style="
      background-image: linear-gradient(to right, white, rgb(25, 168, 216));
    "
  >
    <div>
      <img
        style="float: left"
        class="logo"
        src="UATspaceLogo.jpg"
        alt="UAT Space Logo"
      />
      <br />
      <br />
      <br />
      <br />
      <br />
      <h2
        style="
          position: relative;
          font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        "
      >
        UAT Space Program
      </h2>
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
    </div>
    <div>
      <style>
        th {
          font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
        }
        td {
          font-family: sans-serif;
          font-weight: bold;
          font-size: 14px;
        }
        table {
          border-style: solid;
          text-align: left;
          background-image: linear-gradient(white, lightblue);
        }
        th,
        td,
        table {
          border: 1px solid black;
          width: 1000px;
        }
      </style>
      <table id="data">
        <thead>
          <tr>
            <th>Data Type</th>
            <th>Measurement</th>
          </tr>
        </thead>
        <tbody>
          <tr id="seconds"></tr>
          <tr id="latitude"></tr>
          <tr id="longitude"></tr>
          <tr id="gpsSensorAlt"></tr>
          <tr id="bmpSensorAlt"></tr>
          <tr id="bmpSensorPres"></tr>
          <tr id="bmpSensorTemp"></tr>
          <tr id="digiSensorTemp"></tr>
          <tr id="cssSensorTemp"></tr>
          <tr id="cssSensorECO2"></tr>
          <tr id="cssSensorTVOC"></tr>
          <tr id="UV"></tr>
          <tr id="accelX"></tr>
          <tr id="accelY"></tr>
          <tr id="accelZ"></tr>
          <tr id="magneticX"></tr>
          <tr id="magneticY"></tr>
          <tr id="magneticZ"></tr>
          <tr id="gyroX"></tr>
          <tr id="gyroY"></tr>
          <tr id="gyroZ"></tr>
        </tbody>
      </table>
    </div>
    <br />
    <br />
    <div>
      <style>
        button {
          background-color: white;
          border-color: lightblue;
          border-radius: 12px;
          width: 110px;
          height: 30px;
        }
      </style>
      <button onclick="start()" id="startbutton">Start</button>
      <button onclick="stop()" id="stopbutton">Stop</button>
    </div>
  </body>
</html>
